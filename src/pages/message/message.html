<!--
  Generated template for the MessagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>message</ion-title>
    <ion-buttons end>
    	<button ion-button (tap)="signout()">
    		<ion-icon name="md-log-out"></ion-icon>
    	</button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
    	pullingIcon="arrow-dropdown"
    	pullingText="Rafraichir la liste des message"
    	refreshingSpinner="circles"
    	refreshingText="Chargement...">
    ></ion-refresher-content>
  </ion-refresher>
	<ion-list>
		<ion-list-header>
			Messages
		</ion-list-header>
		<ion-item *ngFor="let message of messages">
			<h3>{{message.username}}</h3>
			<p>{{message.message}}</p>
			<ion-note item-end>{{message.date | date: 'HH:mm dd/mm/yyyy'}}</ion-note>
		</ion-item>
	</ion-list>
</ion-content>
<ion-footer>
  <ion-toolbar>
		<form (submit)="postMessage()">
			<ion-label stacked>Your message</ion-label>
			<input type="text" name="message" [(ngModel)]="msg" style="width: 50%;">
			<button ion-button><ion-icon name="send"></ion-icon></button>
		</form>
  </ion-toolbar>
</ion-footer>